<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Coaching Sportif IA & Ostéopathie | Transformation Sur-Mesure</title>
    <meta name="description" content="Le premier coaching qui fusionne l'intelligence artificielle et l'expertise d'un ostéopathe. Bilan postural et programme sportif personnalisé.">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="Coaching Sportif IA & Ostéopathie">
    <meta property="og:description" content="Fini les douleurs. Testez le coaching généré par IA et validé par la science.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1551076801-0985c7f890c2?q=80&w=2070">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* --- VARIABLES & RESET --- */
        :root {
            --primary-blue: #2b5f7f;
            --primary-orange: #e67e22;
            --dark-blue: #1a3d52;
            --light-blue: #e8f4f8;
            --cream: #f9f6f2;
            --text-dark: #2c3e50;
            --text-light: #607d8b;
            --success: #27ae60;
            --shadow-soft: 0 10px 40px rgba(43, 95, 127, 0.08);
            --shadow-hover: 0 20px 50px rgba(43, 95, 127, 0.15);
            --gradient-hero: linear-gradient(135deg, var(--primary-blue) 0%, var(--dark-blue) 100%);
            --gradient-cta: linear-gradient(135deg, var(--primary-orange) 0%, #d35400 100%);
            --radius: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html { 
            scroll-behavior: smooth; 
            overflow-x: hidden; /* Empêche le scroll horizontal */
            width: 100%;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--cream);
            overflow-x: hidden; /* Sécurité double */
            width: 100%;
            position: relative;
        }

        h1, h2, h3 { line-height: 1.2; font-weight: 700; }
        a { text-decoration: none; transition: 0.3s; }
        ul { list-style: none; }

        /* --- HEADER FIXE (Correction disparition) --- */
        header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
            position: fixed; /* Changé de sticky à fixed */
            width: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
            padding: 0.5rem 0;
            transition: transform 0.3s ease;
        }
        
        /* Ajout d'un padding au body pour ne pas que le contenu passe sous le header fixe */
        body { padding-top: 70px; }

        /* --- CORRECTION PUCES DÉFORMÉES --- */
        .about-list li { margin-bottom: 0.8rem; display: flex; align-items: flex-start; gap: 10px; font-weight: 500; }
        .about-list li::before { 
            content: "✓"; 
            color: white; 
            background: var(--success); 
            min-width: 24px; /* Largeur fixe */
            height: 24px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 12px; 
            flex-shrink: 0; /* INTERDIT la déformation */
            margin-top: 3px; /* Alignement optique */
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.5rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container { display: flex; align-items: center; gap: 1rem; }
        .logo {
        width: 80px;
        height: 80px;
        border-radius: 15px; /* <-- MODIFICATION ICI : Carré arrondi au lieu d'un cercle */
        object-fit: cover;   /* On peut garder 'cover' ici car les coins sont moins coupés */
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }

        .brand-name { font-size: 1.2rem; font-weight: 700; color: var(--primary-blue); }
        .nav-links { display: flex; gap: 2rem; align-items: center; }
        .nav-links a { color: var(--text-dark); font-weight: 500; font-size: 0.95rem; position: relative; }
        .nav-links a::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 0;
            background: var(--primary-orange); transition: width 0.3s;
        }
        .nav-links a:hover::after { width: 100%; }
        
        .cta-nav {
            background: var(--gradient-cta);
            color: white !important;
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
        }
        .cta-nav:hover { transform: translateY(-2px); color: white !important; }
        .hamburger { display: none; font-size: 1.8rem; cursor: pointer; color: var(--dark-blue); }

        /* --- HERO --- */
        .hero {
        /* Fond inchangé */
        background: linear-gradient(rgba(26, 61, 82, 0.75), rgba(26, 61, 82, 0.85)),
                    url('https://images.unsplash.com/photo-1616803274291-a1b637a7b822?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: white;
        
        /* MODIFICATION : On aère et on arrondit le bas */
        padding: 9rem 1.5rem 12rem; /* Plus d'espace en bas pour les badges */
        text-align: center;
        position: relative;
        
        /* LE SECRET DU LOOK PREMIUM : */
        border-radius: 0 0 60px 60px; /* Arrondi doux en bas */
        clip-path: none; /* On enlève le polygone dur */
        
        box-shadow: 0 20px 40px rgba(0,0,0,0.1); /* Ombre portée sur le fond blanc */
        margin-bottom: 0;
        z-index: 2;
    }

        .hero-content { max-width: 900px; margin: 0 auto; }
        .hero h1 { font-size: 3.5rem; margin-bottom: 1.5rem; letter-spacing: -1px; }
        .hero-subtitle { font-size: 1.2rem; margin-bottom: 2.5rem; opacity: 0.9; font-weight: 300; }
        
        .btn { padding: 1rem 2.5rem; border-radius: 50px; font-weight: 600; font-size: 1.1rem; cursor: pointer; border: none; display: inline-block; transition: 0.3s; }
        .btn-primary { background: var(--gradient-cta); color: white; box-shadow: 0 10px 20px rgba(211, 84, 0, 0.3); margin: 0.5rem; }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 15px 30px rgba(211, 84, 0, 0.4); }
        .btn-secondary { background: rgba(255,255,255,0.1); color: white; border: 2px solid rgba(255,255,255,0.3); margin: 0.5rem; backdrop-filter: blur(5px); }
        .btn-secondary:hover { background: white; color: var(--primary-blue); }

        /* --- STICKY CTA MOBILE --- */
        .sticky-mobile-cta {
            display: none;
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 990;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-5px); }
            100% { transform: translateX(-50%) translateY(0px); }
        }

        /* --- TRUST BADGES (OPTIMISÉ POUR INTERACTION 3D) --- */
        .trust-badges {
            max-width: 1000px;
            /* POSITIONNEMENT : On remonte de 80px pour chevaucher le Hero */
            margin: -80px auto 4rem; 
            
            background: white;
            padding: 1.5rem 2.5rem; /* Un peu plus large */
            border-radius: 20px; 
            
            /* OMBRE PROFONDE pour l'effet 3D */
            box-shadow: 0 20px 50px rgba(43, 95, 127, 0.15);
            
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            position: relative;
            z-index: 10; /* Passe au-dessus de tout */
        }


        /* EFFET DE LIFT GLOBAL (CONSERVÉ) */
        .trust-badges:hover {
            transform: translateY(-8px); 
            box-shadow: 0 25px 50px rgba(43, 95, 127, 0.35); /* OMBRE DE SURVOL PLUS INTENSE */
        }

        /* Retouche de l'item individuel */
        .trust-item { 
            display: flex; 
            align-items: center; 
            gap: 0.5rem; 
            /* On s'assure que le texte est Bleu Foncé pour le contraste */
            font-weight: 600; 
            color: var(--dark-blue); /* MODIFICATION : Couleur de marque */
            
            transition: all 0.2s ease-in-out; 
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05) inset; 
            padding: 5px 10px;
            border-radius: 12px;
            cursor: default;
        }

        /* NOUVEAU : Effet de zoom et de glow sur l'item individuel */
        .trust-item:hover {
            transform: scale(1.05); /* L'item grandit légèrement */
            box-shadow: 0 0 20px rgba(43, 95, 127, 0.2) inset; /* L'ombre interne devient plus foncée */
            color: var(--primary-orange); /* Le texte devient orange */
        }
        
        /* AJOUT CLÉ : L'icône suit le changement de couleur au survol */
        .trust-item:hover .trust-icon {
            color: var(--primary-orange); 
        }


        /* --- SECTIONS --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 5rem 1.5rem; }
        .section-title { text-align: center; font-size: 2.5rem; color: var(--dark-blue); margin-bottom: 1rem; }
        .section-subtitle { text-align: center; color: var(--text-light); margin-bottom: 4rem; max-width: 700px; margin: 0 auto 4rem; }

        /* --- CONCEPT --- */
        .concept-timeline { display: flex; justify-content: space-between; position: relative; gap: 2rem; flex-wrap: wrap; }
        
        @media (min-width: 900px) {
            .concept-timeline::before {
                content: ''; position: absolute; top: 40px; left: 50px; right: 50px; height: 2px;
                background-image: linear-gradient(to right, var(--primary-blue) 50%, rgba(255,255,255,0) 0%);
                background-size: 20px 1px; background-repeat: repeat-x; z-index: 0;
            }
        }

        .concept-card {
            flex: 1; min-width: 250px; background: white; padding: 2.5rem 1.5rem;
            border-radius: var(--radius); text-align: center; box-shadow: var(--shadow-soft);
            transition: 0.3s; position: relative; z-index: 1; border-bottom: 4px solid transparent;
        }
        .concept-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-hover); border-bottom: 4px solid var(--primary-orange); }

        .concept-icon-wrapper {
            width: 80px; height: 80px; background: var(--light-blue); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;
            font-size: 2rem; color: var(--primary-blue); border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .step-badge {
            background: var(--gradient-cta); color: white; padding: 0.3rem 0.8rem;
            border-radius: 20px; font-size: 0.8rem; font-weight: bold; position: absolute;
            top: -12px; left: 50%; transform: translateX(-50%);
            box-shadow: 0 4px 10px rgba(230, 126, 34, 0.3);
        }

        /* --- REVIEWS --- */
        #temoignages { background: var(--light-blue); padding: 5rem 1.5rem; }
        .review-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem; }
        .review-card {
            background: white; padding: 2rem; border-radius: var(--radius);
            box-shadow: 0 5px 20px rgba(0,0,0,0.03); display: flex; flex-direction: column;
            justify-content: space-between; transition: 0.3s;
        }
        .review-card:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.08); }
        .stars { color: #f1c40f; margin-bottom: 1rem; }
        .review-text { font-style: italic; color: var(--text-dark); margin-bottom: 1.5rem; font-size: 0.95rem; }
        .review-author { display: flex; align-items: center; gap: 1rem; margin-top: auto; border-top: 1px solid #f0f0f0; padding-top: 1rem; }
        .avatar { width: 45px; height: 45px; background: var(--primary-blue); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        
        /* --- PRICING --- */
        .grid-pricing { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
        .pricing-card {
            background: white; border-radius: 20px; padding: 3rem 2rem; text-align: center;
            box-shadow: var(--shadow-soft); position: relative; border: 1px solid #eee; transition: 0.3s;
        }
        .pricing-card:hover { transform: translateY(-5px); }
        .pricing-card.featured { 
            border: 2px solid var(--primary-orange); transform: scale(1.05); z-index: 2;
            margin-top: 2rem; margin-bottom: 2rem;
        }
        .badge-pop {
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
            background: var(--gradient-cta); color: white; padding: 0.5rem 1.5rem;
            border-radius: 20px; font-size: 0.8rem; font-weight: 700;
        }
        .price { font-size: 3rem; font-weight: 700; color: var(--primary-blue); margin: 1.5rem 0; }
        .features-list { text-align: left; margin: 2rem 0; }
        .features-list li { margin-bottom: 0.8rem; display: flex; align-items: center; gap: 0.5rem; }
        .features-list li::before { content: "✓"; color: var(--success); font-weight: bold; }

        /* --- FORMS (OPTIMIZED) --- */
        .form-box { 
            background: white; padding: 3rem; border-radius: 20px; 
            box-shadow: var(--shadow-soft); max-width: 800px; margin: 0 auto; 
            border-top: 5px solid var(--primary-orange); /* Accent Design */
        }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--dark-blue); }
        .form-input, .form-select { width: 100%; padding: 0.8rem; border: 2px solid #e0e0e0; border-radius: 8px; font-family: inherit; transition: 0.3s; }
        .form-input:focus { border-color: var(--primary-blue); outline: none; box-shadow: 0 0 0 4px rgba(43, 95, 127, 0.1); }
        .submit-btn { width: 100%; padding: 1.2rem; background: var(--gradient-cta); color: white; border: none; border-radius: 10px; font-size: 1.2rem; font-weight: 700; cursor: pointer; transition: 0.3s; }
        .submit-btn:hover { box-shadow: 0 5px 15px rgba(230, 126, 34, 0.4); transform: scale(1.02); }
        .submit-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }

        /* Animation Spinner */
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- FOOTER --- */
        footer { background: var(--dark-blue); color: white; padding: 3rem 1.5rem; text-align: center; margin-top: 4rem; }
        .footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .footer-links a { color: rgba(255,255,255,0.7); }
        .footer-links a:hover { color: white; }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); justify-content: center; align-items: center; padding: 1rem; backdrop-filter: blur(3px); }
        .modal-content { background: white; padding: 2rem; border-radius: 15px; width: 100%; max-width: 500px; position: relative; max-height: 90vh; overflow-y: auto; animation: modalFadeIn 0.3s ease; }
        .close-modal { position: absolute; top: 1rem; right: 1rem; font-size: 1.5rem; cursor: pointer; background: none; border: none; color: #aaa; transition: 0.2s; }
        .close-modal:hover { color: #333; }

        @keyframes modalFadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }

        .pricing-card.featured .submit-btn { background: #d35400; box-shadow: 0 10px 20px rgba(211, 84, 0, 0.4); font-weight: 800; }

        .spinner {
            width: 20px; height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            display: none; /* Caché par défaut */
        }
        @keyframes spin { to { transform: rotate(360deg); } }

         /* --- DESIGN SECTION À PROPOS --- */
        .about-section { background: #f9fafb; padding: 4rem 1.5rem; }
        .about-wrapper { display: flex; align-items: center; 
            gap: 2rem; /* MODIFICATION : Réduit l'espace entre l'image et le texte (de 4rem à 2rem) */
            flex-wrap: wrap; 
        }
        .about-image { flex: 1; min-width: 300px; position: relative; }
        .about-image img { width: 100%; border-radius: 20px; box-shadow: var(--shadow-hover); }
        
        .experience-badge {
            position: absolute; bottom: -20px; right: -20px; background: white;
            padding: 1.5rem; border-radius: 15px; box-shadow: var(--shadow-hover);
            display: flex; flex-direction: column; align-items: center; text-align: center;
            border: 2px solid var(--primary-orange);
        }
        .experience-badge .years { font-size: 2.5rem; font-weight: 800; color: var(--primary-orange); line-height: 1; }
        .experience-badge .text { font-size: 0.8rem; font-weight: 600; color: var(--dark-blue); }

        .about-content { flex: 1; min-width: 300px; }
        .lead-text { font-size: 1.2rem; color: var(--primary-blue); font-weight: 600; margin-bottom: 1.5rem; }
        .bio-text p { margin-bottom: 1rem; color: var(--text-light); font-size: 0.95rem; } /* OPTIONNEL : Texte légèrement plus petit */
        
        .about-list { 
            margin: 1.5rem 0; /* MODIFICATION : Réduit l'espace vertical autour de la liste (de 2rem à 1.5rem) */
        }

        .about-list li { margin-bottom: 0.8rem; display: flex; align-items: center; gap: 10px; font-weight: 500; }
        .about-list li::before { content: "✓"; color: white; background: var(--success); width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; }

        /* --- DESIGN CAROUSEL 3D --- */
        .carousel-container { position: relative; max-width: 1000px; margin: 0 auto; padding: 20px 0; perspective: 1000px; overflow: hidden; }
        
        .carousel-track-3d {
            position: relative;
            height: 450px; /* Hauteur fixe nécessaire pour l'absolute positioning */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .review-card-3d {
            position: absolute;
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            text-align: center;
            width: 350px; /* Largeur fixe des cartes */
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            transition: all 0.5s ease-in-out;
            opacity: 0; /* Caché par défaut */
            transform: scale(0.8) translateX(0);
            z-index: 0;
            border: 1px solid rgba(0,0,0,0.05);
        }

        /* Classes gérées par JS pour l'effet 3D */
        .review-card-3d.active {
            opacity: 1;
            transform: scale(1.1) translateX(0);
            z-index: 10;
            /* OMBRE PLUS FORTE ET BLEUTÉE */
            box-shadow: 0 20px 50px rgba(43, 95, 127, 0.15); /* Plus intense */
            border: 2px solid var(--primary-orange); 
        }


        .review-card-3d.prev {
            opacity: 0.6;
            transform: scale(0.85) translateX(-110%); /* Décalé à gauche */
            z-index: 5;
            filter: blur(2px); /* Effet de profondeur */
            cursor: pointer;
        }

        .review-card-3d.next {
            opacity: 0.6;
            transform: scale(0.85) translateX(110%); /* Décalé à droite */
            z-index: 5;
            filter: blur(2px);
            cursor: pointer;
        }

        /* Contenu des cartes */
        .quote-icon { font-size: 3rem; color: var(--light-blue); line-height: 1; margin-bottom: 10px; }
        .review-text { font-size: 1rem; font-style: italic; color: var(--text-dark); margin-bottom: 1.5rem; min-height: 80px; display: flex; align-items: center; justify-content: center;}
        .author { display: flex; align-items: center; justify-content: center; gap: 1rem; text-align: left; }
        .author h4 { font-size: 1rem; margin: 0; color: var(--primary-blue); }
        .author span { font-size: 0.8rem; color: #888; }
        .avatar { width: 50px; height: 50px; background: var(--gradient-cta); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: bold; box-shadow: 0 5px 10px rgba(230, 126, 34, 0.3); }

        /* Navigation */
        .carousel-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: white; border: none; width: 50px; height: 50px; border-radius: 50%;
            font-size: 1.5rem; color: var(--primary-blue);
            cursor: pointer; z-index: 20; transition: 0.2s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .carousel-btn:hover { background: var(--primary-orange); color: white; transform: translateY(-50%) scale(1.1); }
        .prev-btn { left: 10px; }
        .next-btn { right: 10px; }

        @media (max-width: 768px) {
            .review-card-3d { width: 85%; padding: 1.5rem; }
            .review-card-3d.prev, .review-card-3d.next { opacity: 0; } /* Sur mobile, on cache les côtés pour la lisibilité */
            .carousel-track-3d { height: 450px; }
            .review-text { mini-height: 110;}
        }

       /* --- DESIGN SECTION BILAN (MODIFIÉ POUR ALIGNEMENT) --- */
        .bilan-wrapper {
            display: flex;
            align-items: center; /* C'est ici que la magie opère : alignement vertical */
            gap: 4rem;
            justify-content: center;
            flex-wrap: wrap;
            max-width: 1100px; /* On limite la largeur pour garder les éléments proches */
            margin: 0 auto;
        }

        
        /* Colonne Gauche (Visuel) */
        .bilan-visual {
            flex: 1;
            min-width: 280px;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 400px;
        }
        
        .visual-points { margin-top: 2rem; text-align: center; }
        .visual-points h3 { color: var(--primary-blue); margin-bottom: 1rem; font-size: 1.2rem; }
        .visual-points ul { text-align: left; display: inline-block; }
        .visual-points li { margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark); font-size: 0.95rem; }

        /* Colonne Droite (Formulaire) - Ajustement largeur */
        #bilan-gratuit .form-box {
            flex: 1.5;
            min-width: 320px;
            margin: 0;
            max-width: 600px;
        }

        /* --- 2. DESIGN DU TÉLÉPHONE (VERSION FINALE) --- */
        .phone-mockup {
            width: 240px; /* Taille idéale */
            height: 480px;
            background: #000;
            border-radius: 35px;
            padding: 8px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            border: 6px solid #333;
            position: relative;
            overflow: hidden;
            transform: rotate(-3deg);
            transition: 0.3s;
            margin: 0 auto;
        }
        .phone-mockup:hover { transform: rotate(0deg) scale(1.02); }
        
        /* Écran */
        .screen-content { background: #f0f2f5; height: 100%; width: 100%; border-radius: 28px; overflow: hidden; display: flex; flex-direction: column; font-family: 'Helvetica', sans-serif; }
        
        /* Header Points */
        .screen-header { background: #fff; padding: 12px; display: flex; gap: 4px; }
        .dot { width: 6px; height: 6px; border-radius: 50%; }
        .red { background: #ff5f56; } .yellow { background: #ffbd2e; } .green { background: #27c93f; }
        
        /* App Mail Header */
        .email-app-header { background: white; padding: 8px 15px 15px; border-bottom: 1px solid #eee; margin-bottom: 10px; }
        .email-app-header span { display: block; font-size: 9px; color: #999; text-transform: uppercase; letter-spacing: 1px; }
        .email-app-header strong { font-size: 16px; color: var(--primary-blue); }
        
        /* Corps du mail */
        .fake-email-body { padding: 15px; display: flex; flex-direction: column; gap: 12px; overflow-y: auto; }
        
        .alert-badge { background: #27ae60; color: white; font-size: 9px; font-weight: bold; padding: 4px 8px; border-radius: 20px; align-self: flex-start; }
        .fake-title { font-size: 18px; line-height: 1.2; color: var(--dark-blue); margin: 0; }
        
        .fake-stats { display: flex; gap: 8px; }
        .fake-stats span { background: white; font-size: 9px; padding: 4px 6px; border-radius: 4px; color: #666; border: 1px solid #eee; }
        
        .fake-card { background: white; padding: 12px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.03); }
        .fake-card strong { display: block; font-size: 11px; margin-bottom: 4px; text-transform: uppercase; }
        .fake-card p, .fake-card ul { font-size: 10px; color: #555; margin: 0; line-height: 1.4; }
        .fake-card ul { padding-left: 12px; }
        
        .fake-card.warning { border-left: 3px solid #e67e22; } .fake-card.warning strong { color: #e67e22; }
        .fake-card.success { border-left: 3px solid var(--primary-blue); } .fake-card.success strong { color: var(--primary-blue); }
        
        .fake-btn { background: var(--gradient-cta); color: white; text-align: center; font-weight: bold; font-size: 11px; padding: 10px; border-radius: 8px; margin-top: 5px; }

        /* Bloc Instagram */
        .fake-insta-block { background: #fafafa; border-top: 1px solid #eee; padding: 12px; text-align: center; border-radius: 0 0 10px 10px; margin-top: auto; }
        .fake-insta-block p { font-size: 10px; color: #555; margin-bottom: 5px; }
        .fake-insta-link { color: #C13584; font-weight: bold; font-size: 11px; display: flex; align-items: center; justify-content: center; gap: 5px; }

        /* Responsive Mobile */
        @media (max-width: 900px) {
            .bilan-wrapper { flex-direction: column-reverse; gap: 3rem; align-items: center; }
            .bilan-visual { max-width: 100%; }
            #bilan-gratuit .form-box { max-width: 100%; }
        }

        /* --- GESTION DES FONDS DE SECTIONS (THEME PREMIUM OPTIMISÉ POUR CONSTRASTE) --- */
        
        /* 1. À Propos : Gris très clair. Sépare le Hero (sombre) du Concept (blanc) */
        #a-propos {
            background-color: #f9fafb; 
            padding: 5rem 1.5rem 2rem 1.5rem; /* MODIFICATION : Le padding du bas passe à 3rem (4rem avant) */
            margin-top: 6rem;
            position: relative; 
            z-index: 5; 
            border-radius: 40px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            margin-bottom: 4rem;

            /* 2. RÉDUCTION DE LA LARGEUR (Pour suivre les Trust Badges et créer la forme de bulle) */
            max-width: 1300px; /* AJOUT : Limite la largeur (aligné sur les Trust Badges) */
            margin-left: auto; /* AJOUT : Centrage horizontal */
            margin-right: auto; /* AJOUT : Centrage horizontal */
        }

           #concept {
            background-color: #ffffff; 
            
            /* ESPACEMENT INTERNE */
            padding: 6rem 2rem;
            border-radius: 50px;
            width: 90%;          /* Le bloc prend 90% de la largeur de l'écran */
            max-width: 1200px;   /* Mais il s'arrête à 1200px (standard pro) */
            margin: 4rem auto;   /* 4rem en haut/bas (l'écart), AUTO à gauche/droite (le centrage) */
            
            /* OMBRE ET POSITION */
            position: relative;
            z-index: 1;
            box-shadow: 0 10px 50px rgba(0,0,0,0.05);
}

        
        /* Ajustement pour mobile pour éviter que les marges soient trop grandes */
        @media (max-width: 768px) {
            #a-propos.about-section {
                margin-bottom: 2rem; /* Écart plus petit sur mobile */
                border-radius: 0 0 30px 30px;
            }
            #concept {
                margin: 0 10px; /* Marges réduites sur les côtés */
                border-radius: 30px;
            }
        }


        /* 3. Témoignages : Bleu Glacier (Contraste parfait avec la coupe) */
        #temoignages {
            background-color: var(--light-blue);
            
            /* DESIGN CARTE FLOTTANTE */
            margin: 2rem 1.5rem; /* Marge sur les côtés */
            border-radius: 40px; /* Gros arrondis */
            padding: 4rem 1.5rem;
            
            position: relative;
            box-shadow: 0 10px 30px rgba(43, 95, 127, 0.05);
        }
        
        /* Petit ajustement pour mobile */
        @media (max-width: 768px) {
            #temoignages {
                margin: 2rem 0.5rem; /* Moins de marge sur mobile */
                border-radius: 25px;
                padding: 3rem 1rem;
            }
        }

        /* 4. Offres (Prix) : Blanc (Contraste maximal avec #temoignages Bleu) */
        #offres {
            background-color: #ffffff;
            padding: 6rem 1.5rem;
            position: relative;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.02); 
            z-index: 2;
        }

        /* 5. Bilan (Formulaire) : Dégradé "Action" (Contraste maximal avant le footer) */
        #bilan-gratuit {
            background: linear-gradient(180deg, #ffffff 0%, #fff8f0 100%);
            padding: 6rem 1.5rem;
            border-top: 1px solid #eee;
        }

        /* 6. FAQ : Gris neutre (Clôture) */
        .faq-section-bg { 
            background-color: #f8f9fa; 
            padding: 5rem 1.5rem;
        }

        /* --- AMÉLIORATION ESTHÉTIQUE (Texture Noise) --- */
        #a-propos, .faq-section-bg {
            /* On utilise une image de bruit invisible ou un petit dégradé répété */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23f0f0f0' d='M1 3h1v1H1V3zm2-2h1v1H3V1z' opacity='0.2' /%3E%3C/svg%3E");
            background-repeat: repeat;
        }

        /* --- 1. LES CLASSES POUR LES VAGUES (SVG) --- */
        .custom-shape-divider-bottom {
            position: absolute;
            bottom: 0; left: 0; width: 100%;
            overflow: hidden; line-height: 0;
            transform: rotate(180deg);
        }
        .custom-shape-divider-bottom svg {
            position: relative; display: block;
            width: calc(100% + 1.3px); height: 100px;
        }
        .custom-shape-divider-bottom .shape-fill {
            fill: #eef6f9; /* Doit être la MEME couleur que la section suivante (Avis) */
        }
        
        .custom-shape-divider-top {
            position: absolute;
            top: 0; left: 0; width: 100%;
            overflow: hidden; line-height: 0;
        }
        .custom-shape-divider-top svg {
            position: relative; display: block;
            width: calc(100% + 1.3px); height: 100px;
        }
        .custom-shape-divider-top .shape-fill {
            fill: #eef6f9; /* Doit être la MEME couleur que la section précédente (Avis) */
        }
        
        /* --- 2. MODIFICATION DU HERO (Courbe au lieu de coupure) --- */
        .hero {
            /* Gardez vos backgrounds existants ici */
            background: linear-gradient(rgba(26, 61, 82, 0.75), rgba(26, 61, 82, 0.85)), url('https://images.unsplash.com/photo-1616803274291-a1b637a7b822?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            
            padding: 8rem 1.5rem 12rem; /* Augmentez le padding du bas */
            position: relative;
            
            /* C'est ICI que la magie opère (Courbe) : */
            border-radius: 0 0 50% 50% / 40px; 
            clip-path: none; /* IMPORTANT : Enlevez l'ancien clip-path */
            margin-bottom: 2rem;
        }
        
        /* --- 3. MODIFICATION DES BADGES (Pour chevaucher la courbe) --- */
        .trust-badges {
            /* Gardez vos styles existants (flex, background, shadow...) */
            background: white;
            display: flex; justify-content: space-around; flex-wrap: wrap; padding: 1.5rem; border-radius: 24px; box-shadow: 0 15px 45px rgba(43, 95, 127, 0.25);
            
            /* La modification clé : Marge négative pour remonter sur le Hero */
            margin: -7rem auto 0; 
            position: relative;
            z-index: 10;
            max-width: 1000px;
        }
        
        /* --- 4. COULEUR DE FOND SECTION AVIS --- */
        #temoignages {
            background-color: #eef6f9; /* Bleu très clair */
            padding-top: 4rem; /* Espace pour la vague du haut */
            padding-bottom: 4rem; /* Espace pour la vague du bas */
            position: relative;
        }

        /* --- AJOUTS POUR PRIX BARRÉ & PARRAINAGE --- */
        /* Le vieux prix barré au dessus du prix actuel */
        .old-price {
            text-decoration: line-through;
            color: #bdc3c7; /* Gris clair */
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: -10px; /* Rapproche le prix barré du vrai prix */
            display: block;
        }
        
        /* Zone parrainage dans la modale */
        .referral-box {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border: 1px dashed var(--primary-blue);
            margin-bottom: 1.5rem;
            text-align: left;
            transition: 0.3s;
        }
        
        .referral-box.validated {
            background: #e8f5e9;
            border: 1px solid #27ae60;
        }
        
        .referral-checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--dark-blue);
        }
        
        /* Message de succès caché par défaut */
        .referral-success-msg {
            display: none;
            color: #27ae60;
            font-size: 0.85rem;
            margin-top: 0.5rem;
            font-weight: 600;
            animation: slideDown 0.3s ease;
        }
        .referral-success-msg span { display: block; }
        
        /* =========================================
           OPTIMISATION MOBILE FINALE V4 (CORRIGÉE)
           ========================================= */
        
        @media (max-width: 768px) {
            /* 0. GLOBAL : Stop au décalage latéral */
            html, body { 
                overflow-x: hidden !important; 
                width: 100% !important; 
                position: relative;
            }
            .container { padding: 4rem 1.5rem; overflow: hidden; width: 100%; }
            
            .hamburger { display: block; }
    
            /* HEADER FIXE */
            header {
                position: fixed !important;
                top: 0; left: 0; width: 100%; z-index: 9999;
                background: rgba(255, 255, 255, 0.98);
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
    
            /* BOUTON FLOTTANT */
            .sticky-mobile-cta { 
                display: block; opacity: 0; pointer-events: none; 
                transition: opacity 0.4s ease;
            }
            .sticky-mobile-cta.visible { opacity: 1; pointer-events: all; }
    
            /* 1. HERO */
            .hero { 
                padding: 8rem 1rem 4rem; 
                border-radius: 0 0 40px 40px; 
                background-attachment: scroll; 
            }
            .hero h1 { font-size: 2rem; word-wrap: break-word; hyphens: auto; } 
    
            /* 2. MENU */
            .nav-links {
                position: absolute; top: 60px; left: 0; width: 100%; 
                background: rgba(255, 255, 255, 0.99);
                flex-direction: column; padding: 2rem; 
                box-shadow: 0 5px 10px rgba(0,0,0,0.1); display: none;
            }
            .nav-links.active { display: flex; animation: slideDown 0.3s ease forwards; }
            @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    
            /* 3. TRUST BADGES (Correction Espacement & Intégration) */
            .trust-badges {
                margin: -2.5rem auto 2rem; /* Remonté un peu, marge basse réduite */
                width: 90%; 
                gap: 0.5rem; 
                padding: 1rem;
                position: relative; 
                z-index: 20; /* Passe devant le reste */
            }
            .trust-item { font-size: 0.75rem; flex: 1 1 45%; justify-content: center; }
    
            /* 4. À PROPOS (Rapproché du bloc du dessus) */
            #a-propos.about-section {
                margin-top: 0; 
                padding-top: 2rem; /* Moins d'espace en haut */
                border-radius: 30px; /* Arrondi sur tout le bloc */
                margin-left: 10px; margin-right: 10px; /* Effet carte */
            }
            .about-wrapper { flex-direction: column; }
            
            /* Badge 24 mois */
            .experience-badge {
                position: relative; margin: -20px auto 20px auto; 
                width: auto; max-width: 220px; padding: 1rem; transform: none;
            }
            .experience-badge .years { font-size: 1.8rem !important; }
            
            /* Puces V non déformées */
            .about-list li { align-items: flex-start; }
            .about-list li::before { flex-shrink: 0; margin-top: 4px; }
    
            /* 5. CONCEPT & MINDSET (Correction texte coupé à droite) */
            #concept { margin: 1rem 10px; border-radius: 30px; width: auto; padding: 3rem 1.5rem; }
            .concept-timeline { flex-direction: column; gap: 2rem; }
            .concept-timeline::before { display: none; }
            
            .mindset-block {
                padding: 2rem 1rem !important; /* Marges latérales réduites */
                flex-direction: column;
                width: 100%;
                box-sizing: border-box; /* IMPORTANT */
                margin-top: 3rem !important;
                word-wrap: break-word; /* Coupe les mots si trop longs */
            }
            .mindset-block h3 { font-size: 1.4rem !important; line-height: 1.3; }
            .mindset-block > div { width: 100%; min-width: 0; } /* Contient le texte */
    
            /* 6. REVIEWS */
            #temoignages { margin: 0; border-radius: 40px 40px 0 0; padding: 3rem 1rem; }
            .carousel-track-3d { height: auto; min-height: 420px; }
            .review-card-3d { width: 100%; left: 0; opacity: 0; transform: scale(0.95); position: absolute; padding: 2rem 1.5rem; }
            .review-card-3d.active { opacity: 1; transform: scale(1); position: relative; z-index: 20; }
            .review-card-3d.prev, .review-card-3d.next { opacity: 0; pointer-events: none; position: absolute; }
            
            /* 7. RESTE DU CONTENU */
            .pricing-card.featured { transform: scale(1); margin: 2rem 0; border-width: 2px; }
            .bilan-wrapper { flex-direction: column-reverse; gap: 2rem; }
            .phone-mockup { transform: scale(0.9); margin-top: 1rem; }
            .form-input, .form-select { font-size: 16px !important; }
            footer { border-radius: 40px 40px 0 0; }
        }
        
            .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--primary-orange);
            width: 0%;
            z-index: 2000;
            transition: width 0.1s;
        }

        @keyframes pulse-shadow {
            0% { box-shadow: 0 0 0 0 rgba(230, 126, 34, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(230, 126, 34, 0); }
            100% { box-shadow: 0 0 0 0 rgba(230, 126, 34, 0); }
        }
        
        /* Appliquer l'animation au bouton mobile et aux boutons principaux */
        .sticky-mobile-cta, .btn-primary {
            animation: pulse-shadow 2s infinite;
        }

        /* Quand on clique dans le champ */
        .form-input:focus, .form-select:focus, textarea:focus {
            border-color: var(--primary-orange) !important;
            background-color: #fffaf0; /* Fond très légèrement orange */
            box-shadow: 0 0 0 4px rgba(230, 126, 34, 0.15) !important;
            transform: translateY(-2px);
        }
        
        /* Animation icône FAQ */
        .faq-question .icon { transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1); }
        .faq-item.active .icon { transform: rotate(135deg); color: var(--primary-orange); }
        .faq-item.active .faq-question { color: var(--primary-orange); }

        /* --- FEEDBACK VISUEL CORRIGÉ --- */
        /* 1. Pour les champs texte (Nom, Email, etc.) */
        /* Le vert ne s'affiche QUE si l'utilisateur a écrit dedans (plus de placeholder) */
        .form-input:not(:placeholder-shown):valid, 
        textarea:not(:placeholder-shown):valid {
            border-left: 4px solid var(--success);
            background-color: #f9fff9;
        }

        /* 2. Pour les menus déroulants (Select) */
        /* On applique une bordure verte simple UNIQUEMENT quand une option valide est choisie */
        /* L'astuce : on utilise :valid mais on force le reset si c'est la valeur par défaut via JS ou HTML */
        .form-select:valid {
            border-left: 4px solid var(--success);
            /* On ne met PAS de fond vert pour éviter que ça fasse "déjà rempli" au chargement */
        }
    
        /* Petit bonus : Bordure rouge si on quitte un champ sans le remplir */
        .form-input:not(:placeholder-shown):invalid {
            border-left: 4px solid #e74c3c;
        }


        .features-list li { transition: transform 0.2s; }
        .features-list li:hover { transform: translateX(5px); }
        .features-list li::before { 
            display: inline-block; 
            font-size: 1.2rem; 
            margin-right: 8px;
            text-shadow: 0 2px 5px rgba(39, 174, 96, 0.3);
        }

        /* --- BOUTON TITAN VIP (NAVBAR) --- */
        .nav-titan-btn {
            background: #000000; /* Fond Noir Profond */
            border: 1px solid #b38728; /* Bordure Dorée */
            padding: 0.6rem 1.2rem;
            border-radius: 50px;
            
            /* Typographie */
            color: #f1c40f !important; /* Texte Or */
            font-weight: 800 !important;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            
            /* Flex pour aligner l'icône */
            display: flex;
            align-items: center;
            gap: 8px;
            
            /* Effets Visuels */
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            
            /* Animation d'appel (Pulse) */
            animation: goldPulse 2s infinite;
        }
        
        /* L'icône cadenas */
        .nav-titan-btn span {
            font-size: 1rem;
            filter: drop-shadow(0 0 5px rgba(241, 196, 15, 0.8));
        }
        
        /* Effet de survol (Hover) */
        .nav-titan-btn:hover {
            background: #b38728; /* Le fond devient Or */
            color: #000 !important; /* Le texte devient Noir */
            box-shadow: 0 0 20px rgba(179, 135, 40, 0.6);
            transform: translateY(-2px);
            border-color: #000;
        }
        
        /* Reflet brillant qui traverse le bouton */
        .nav-titan-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                120deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent
            );
            transition: 0.5s;
            animation: shine-sweep 3s infinite linear; /* Balayage lumière */
        }
        
        /* --- ANIMATIONS --- */
        @keyframes goldPulse {
            0% { box-shadow: 0 0 0 0 rgba(179, 135, 40, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(179, 135, 40, 0); }
            100% { box-shadow: 0 0 0 0 rgba(179, 135, 40, 0); }
        }
        
        @keyframes shine-sweep {
            0% { left: -100%; }
            20% { left: 100%; }
            100% { left: 100%; } /* Pause de 80% du temps entre les reflets */
        }

        
        /* --- 2. SECTION COFFRE-FORT TITAN (THE VAULT) --- */
        #ambassadeur-titan {
            background: #000;
            position: relative;
            padding: 8rem 1.5rem;
            overflow: hidden;
            text-align: center;
            border-top: 2px solid #b38728;
            border-bottom: 2px solid #b38728;
        }
        
        /* Fond animé style "Matrix/Data" sombre */
        #ambassadeur-titan::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, rgba(191, 149, 63, 0.1) 0%, #000 70%);
            z-index: 1;
        }
        
        .titan-container { position: relative; z-index: 10; max-width: 700px; margin: 0 auto; }
        
        /* Le Cadenas Visuel */
        .vault-lock {
            font-size: 5rem; margin-bottom: 1rem; display: inline-block;
            transition: 0.5s;
            text-shadow: 0 0 20px rgba(191, 149, 63, 0.5);
            animation: float 4s ease-in-out infinite;
        }
        
        .titan-title {
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            text-transform: uppercase;
            background: linear-gradient(to bottom, #cfc09f 22%, #634f2c 24%, #cfc09f 26%, #cfc09f 27%, #ffecb3 40%, #3a2c0f 78%); 
            -webkit-background-clip: text;
            color: transparent;
            font-weight: 800;
            letter-spacing: 4px;
            margin-bottom: 0.5rem;
        }
        
        .titan-subtitle { color: #888; font-size: 1rem; margin-bottom: 3rem; letter-spacing: 1px; text-transform: uppercase;}
        
        /* Input Zone */
        .vault-input-wrapper {
            position: relative;
            max-width: 400px;
            margin: 0 auto;
            border: 1px solid rgba(191, 149, 63, 0.3);
            padding: 10px;
            border-radius: 50px;
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(5px);
            display: flex;
            transition: 0.3s;
        }
        
        .vault-input-wrapper:focus-within {
            border-color: #fcf6ba;
            box-shadow: 0 0 15px rgba(191, 149, 63, 0.3);
        }
        
        .titan-input {
            background: transparent; border: none; color: #fff;
            font-size: 1.2rem; flex: 1; padding: 0 1rem;
            text-transform: uppercase; letter-spacing: 2px; text-align: center;
            outline: none;
        }
        
        .titan-btn {
            background: linear-gradient(135deg, #b38728, #fcf6ba, #aa771c);
            border: none; border-radius: 40px; padding: 1rem 2rem;
            color: #000; font-weight: 800; text-transform: uppercase; cursor: pointer;
            transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }
        
        .titan-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px rgba(191, 149, 63, 0.6); }
        
        /* --- 3. LA CARTE "WOW" (OFFRE CACHÉE) --- */
        #titan-reward-card {
            display: none; /* Caché par défaut */
            margin-top: 3rem;
            perspective: 1000px;
        }
        
        .black-card {
            background: linear-gradient(145deg, #1a1a1a, #0d0d0d);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 3rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
            transform-style: preserve-3d;
            animation: cardAppear 1s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }
        
        /* Bordure dorée brillante */
        .black-card::before {
            content: ''; position: absolute; inset: 0; padding: 2px; border-radius: 20px;
            background: linear-gradient(45deg, transparent, #b38728, transparent);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor; mask-composite: exclude;
            pointer-events: none;
        }
        
        .vip-badge {
            background: #b38728; color: black; padding: 5px 15px;
            font-weight: bold; font-size: 0.8rem; text-transform: uppercase;
            position: absolute; top: 20px; right: 20px; border-radius: 4px;
        }
        
        .offer-value {
            font-size: 3.5rem; font-weight: 800; color: #fff;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
            margin: 1rem 0;
        }
        
        .offer-sub { color: #b38728; font-size: 1.2rem; font-weight: 600; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 2rem; }
        
        .titan-cta {
            display: block; width: 100%; padding: 1.5rem;
            background: #fff; color: #000; font-size: 1.2rem; font-weight: 800;
            text-transform: uppercase; border: none; cursor: pointer;
            clip-path: polygon(10% 0, 100% 0, 100% 100%, 0% 100%, 0% 20%);
            transition: 0.3s;
            position: relative; overflow: hidden;
        }
        
        .titan-cta:hover { background: #b38728; color: white; letter-spacing: 2px; }
        
        /* Animations */
        @keyframes cardAppear { from { transform: rotateX(20deg) translateY(50px); opacity: 0; } to { transform: rotateX(0) translateY(0); opacity: 1; } }
        @keyframes shockwave { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(50); opacity: 0; } }
        
        .shockwave-element {
            position: absolute; top: 50%; left: 50%; width: 20px; height: 20px;
            background: radial-gradient(circle, #fff 0%, #b38728 50%, transparent 70%);
            border-radius: 50%; transform: translate(-50%, -50%);
            z-index: 20; pointer-events: none;
        }
        
        /* --- DESIGN MODALE TITAN (PREMIUM REVISITÉ) --- */
        .titan-modal-content {
            background: #080808 !important; /* Noir presque pur */
            border: 1px solid #b38728;
            box-shadow: 0 0 60px rgba(179, 135, 40, 0.2);
            color: white;
            max-width: 500px; /* Plus large */
            width: 90%;
            padding: 3rem !important;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        /* Grille de fond subtile pour effet Tech */
        .titan-modal-content::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: linear-gradient(rgba(179, 135, 40, 0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(179, 135, 40, 0.05) 1px, transparent 1px);
            background-size: 20px 20px; z-index: 0; pointer-events: none;
        }
        
        .titan-content-wrapper { position: relative; z-index: 1; }
        
        .titan-close { color: #b38728 !important; opacity: 0.7; font-size: 2rem; top: 15px; right: 20px; }
        .titan-close:hover { opacity: 1; transform: rotate(90deg); }
        
        /* Input Centré et Large */
        .titan-form-group {
            display: flex; flex-direction: column; align-items: center; width: 100%; margin-bottom: 1.5rem;
        }
        
        .titan-input-field {
            background: rgba(255,255,255,0.05) !important;
            border: 1px solid #333 !important;
            border-bottom: 2px solid #b38728 !important; /* Soulignement Or */
            color: #fff !important;
            text-align: center;
            font-size: 1.2rem !important;
            letter-spacing: 1px;
            width: 100% !important; /* Prend toute la largeur */
            max-width: 350px; /* Mais pas trop non plus */
            padding: 1rem !important;
            margin-top: 0.5rem;
            transition: 0.3s;
        }
        
        .titan-input-field:focus {
            background: rgba(179, 135, 40, 0.1) !important;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
            transform: scale(1.02);
            outline: none;
        }
        
        /* Séquence de chargement (Barre de progression) */
        .upload-sequence { display: none; margin-top: 2rem; }
        .progress-bar-wrapper {
            width: 100%; height: 4px; background: #333; border-radius: 2px; overflow: hidden; margin-bottom: 10px;
        }
        .progress-bar-fill {
            height: 100%; width: 0%; background: #b38728;
            box-shadow: 0 0 10px #b38728;
            transition: width 0.1s linear;
        }
        .upload-text { font-family: monospace; color: #b38728; font-size: 0.8rem; text-transform: uppercase; }
        
        /* Message de Succès Final */
        .success-sequence { display: none; animation: scaleUp 0.5s ease; }
        .check-circle {
            width: 80px; height: 80px; border-radius: 50%; border: 2px solid #27ae60;
            display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;
            box-shadow: 0 0 30px rgba(39, 174, 96, 0.3);
        }
        .check-icon { font-size: 3rem; color: #27ae60; }
        
        @keyframes scaleUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    </style>
</head>
<body>

    <div class="scroll-progress"></div>

    <a href="#bilan-gratuit" id="mobile-cta" class="btn btn-primary sticky-mobile-cta">Je fais mon Bilan (Gratuit)</a>

    <header> 
        <nav>
            <div class="logo-container">
                <img src="IMG_3376.png" alt="Logo OptiForm" class="logo">
                <a href="#accueil" class="brand-name" style="color: var(--primary-blue); text-decoration: none;">IA & Coaching</a>
            </div>
            
            <div class="hamburger" onclick="toggleMenu()">☰</div>
            
            <ul class="nav-links" id="navLinks">
                <li><a href="#accueil" onclick="toggleMenu()">Accueil</a></li>
                <li><a href="#concept" onclick="toggleMenu()">Concept</a></li>
                <li><a href="#temoignages" onclick="toggleMenu()">Avis</a></li>
                <li><a href="#offres" onclick="toggleMenu()">Offres</a></li>
                
                <li>
                    <a href="#ambassadeur-titan" class="nav-titan-btn" onclick="toggleMenu()">
                        <span>🔒</span> ESPACE TITAN
                    </a>
                </li>
                
                <li><a href="#bilan-gratuit" class="cta-nav" onclick="toggleMenu()">Mon Bilan Gratuit</a></li>
            </ul>
        </nav>
    </header>


    <section class="hero" id="accueil">
        <div class="hero-content" data-aos="fade-up">
            <h1>Votre Transformation Corps & Esprit par l'IA</h1>
            <p class="hero-subtitle">La première méthode qui combine la précision de l'Intelligence Artificielle à l'expertise d'un ostéopathe pour des résultats rapides et sans douleur.</p>
            <div class="btn-group">
                <a href="#bilan-gratuit" class="btn btn-primary">Mon Bilan Gratuit</a>
                <a href="#concept" class="btn btn-secondary">Découvrir la méthode</a>
            </div>
        </div>
    </section>

    <section class="trust-section">
        <div class="trust-badges" data-aos="zoom-in">
            <div class="trust-item"><span class="trust-icon">✓</span> Ostéopathe D.O</div>
            <div class="trust-item"><span class="trust-icon">✓</span> Coach Certifié</div>
            <div class="trust-item"><span class="trust-icon">✓</span> Basé sur la Science</div>
            <div class="trust-item"><span class="trust-icon">✓</span> IA Adaptative</div>
        </div>
    </section>

    <section id="a-propos" class="about-section">
        <div class="container">
            <div class="about-wrapper">
                
                <div class="about-image" data-aos="fade-right">
                    <img src="https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?q=80&w=2070" alt="Cyril Mangeolle Coach">
                    
                    <div class="experience-badge" style="padding: 1.2rem; min-width: 140px; right: auto; left: -20px;">
                        <span class="years" style="font-size: 2.2rem;">24 Mois</span>
                        <span class="text" style="line-height: 1.4; margin-top: 5px;">
                            de R&D<br>
                            <span style="font-weight:400; font-size: 0.75rem; opacity: 0.9;">Code & Sciences</span>
                        </span>
                    </div>
                </div>

                <div class="about-content" data-aos="fade-left">
                    <h2 class="section-title" style="text-align: left;">Plus qu'un Coach,<br>un Expert du Mouvement</h2>
                    
                    <p class="lead-text">
                        Je suis Cyril Mangeolle, Coach Certifié et Ostéopathe D.O. Ma mission : fusionner la précision médicale et la puissance de l'IA.
                    </p>
                    
                    <div class="bio-text" style="margin-bottom: 1.5rem;">
                        <p>
                            Mon approche est unique : elle répare votre corps AVANT de vous transformer. Fini le hasard, place à la biomécanique validée par la data.
                        </p>
                    </div>
                
                    <div style="background: white; border: 1px solid #eee; border-left: 4px solid var(--primary-orange); padding: 1.2rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 5px 20px rgba(0,0,0,0.03); display: flex; gap: 15px; align-items: start;">
                        <div style="font-size: 2rem;">🧠</div>
                        <div>
                            <h4 style="color: var(--dark-blue); margin-bottom: 0.3rem; font-size: 1rem;">Expertise Comportementale</h4>
                            <p style="font-size: 0.9rem; color: var(--text-light); line-height: 1.5; margin: 0;">
                                Inspiré par la méthode <em>"Atomic Habits"</em>, je ne vous donne pas juste des exercices. Je reprogramme vos habitudes pour que l'effort disparaisse et que les résultats restent à vie.
                            </p>
                        </div>
                    </div>
                
                    <ul class="about-list">
                        <li>🏆 Diplômé d'État d'Ostéopathie & Coach Certifié </li>
                        <li>🧬 Spécialiste de la reprogrammation posturale</li>
                        <li>🤝 Patients & Athlètes suivis au quotidien</li>
                    </ul>
                
                    <a href="#concept" class="btn btn-primary" style="font-size: 0.9rem;">Découvrir la Méthode Complète</a>
                </div>
            </div>
        </div>
    </section>

    <section class="container" id="concept">
        <div data-aos="fade-up">
            <h2 class="section-title">Une Méthode Révolutionnaire</h2>
            <p class="section-subtitle">Fini les PDF génériques. Votre programme est vivant : il apprend, il s'adapte et il évolue avec vous.</p>
        </div>
        
        <div class="concept-timeline">
            <div class="concept-card" data-aos="fade-up" data-aos-delay="100">
                <div class="step-badge">ÉTAPE 1</div>
                <div class="concept-icon-wrapper">📋</div>
                <h3>Bilan Initial & IA</h3>
                <p>Notre premier échange sert à réaliser votre bilan. L’IA fusionne ces données techniques et vos objectifs personnels pour créer un programme 100% adapté.</p>
            </div>
    
            <div class="concept-card" data-aos="fade-up" data-aos-delay="200">
                <div class="step-badge">ÉTAPE 2</div>
                <div class="concept-icon-wrapper">🧬</div>
                <h3>Génération Hybride</h3>
                <p>L’IA génère une première structure sur-mesure, que j’affine ensuite avec mon expertise d’ostéopathe pour l’adapter parfaitement à votre corps.</p>
            </div>
    
            <div class="concept-card" data-aos="fade-up" data-aos-delay="300">
                <div class="step-badge">ÉTAPE 3</div>
                <div class="concept-icon-wrapper">📈</div>
                <h3>Évolution Hebdomadaire</h3>
                <p>Dès la fin de la première semaine, vos retours permettent d’ajuster précisément la suite. Vous gardez un accès direct à mon groupe privé.</p>
            </div>
    
            <div class="concept-card" data-aos="fade-up" data-aos-delay="400">
                <div class="step-badge">ÉTAPE 4</div>
                <div class="concept-icon-wrapper">🎯</div>
                <h3>Résultats Durables</h3>
                <p>Pas de régime drastique ni de sport excessif. Juste la dose parfaite pour votre corps, pour une transformation à vie.</p>
            </div>
        </div> 
        
        <div class="mindset-block" data-aos="fade-up" style="margin-top: 5rem; background: white; border-radius: 20px; padding: 3rem; box-shadow: var(--shadow-soft); border-left: 6px solid var(--primary-orange); display: flex; align-items: center; gap: 2rem; flex-wrap: wrap;">
            <div style="flex: 1; min-width: 300px;">
                <h3 style="color: var(--dark-blue); font-size: 1.8rem; margin-bottom: 1rem;">🧠 Oubliez la Motivation, Misez sur le Système</h3>
                <p style="color: var(--text-dark); margin-bottom: 1rem;">
                    La motivation est une émotion passagère. L'habitude est un ancrage durable.
                </p>
                
                <p style="color: var(--text-light); font-size: 0.95rem; line-height: 1.7;">
                    J'ai étudié les ouvrages de référence sur la psychologie comportementale (BJ Fogg, Charles Duhigg...). De toutes ces recherches, j'ai extrait <strong>le système le plus efficace</strong> pour vous : celui de <em>James Clear ("Atomic Habits")</em>. 
                    Nous cherchons l'amélioration de <strong>1% chaque jour</strong>.
                </p>
        
                <ul style="margin-top: 1rem;">
                    <li style="margin-bottom: 0.5rem; display: flex; align-items: center; gap: 10px;">
                        <span style="background: var(--light-blue); color: var(--primary-blue); width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem;">1</span>
                        <span style="font-weight: 500; color: var(--dark-blue);">Rendre l'action évidente (Intégration agenda)</span>
                    </li>
                    <li style="margin-bottom: 0.5rem; display: flex; align-items: center; gap: 10px;">
                        <span style="background: var(--light-blue); color: var(--primary-blue); width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem;">2</span>
                        <span style="font-weight: 500; color: var(--dark-blue);">Rendre l'action facile (Adaptation IA)</span>
                    </li>
                    <li style="display: flex; align-items: center; gap: 10px;">
                        <span style="background: var(--light-blue); color: var(--primary-blue); width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.8rem;">3</span>
                        <span style="font-weight: 500; color: var(--dark-blue);">Rendre l'action satisfaisante (Progression visible)</span>
                    </li>
                </ul>
            </div>
        
            <div style="flex: 1; min-width: 250px; text-align: center; background: var(--light-blue); padding: 2rem; border-radius: 15px;">
                <div style="font-size: 3.5rem; font-weight: 800; color: var(--primary-blue); line-height: 1;">1%</div>
                <div style="font-size: 1.2rem; font-weight: 600; color: var(--primary-orange); margin-bottom: 1rem; margin-top: 0.5rem;">Meilleur chaque jour</div>
                <p style="font-size: 0.95rem; font-style: italic; color: var(--text-dark);">
                    "Ce ne sont pas vos objectifs qui vous portent, ce sont vos habitudes."
                </p>
            </div>
        </div>
    </section>

       <section id="temoignages" class="reviews-section">
        <div class="container">
            <div data-aos="fade-up">
                <h2 class="section-title">Ils ont changé leur vie</h2>
                <p class="section-subtitle">Votre réussite est ma seule carte de visite.</p>
            </div>
            
            <div class="carousel-container" data-aos="zoom-in">
                <button class="carousel-btn prev-btn" onclick="moveSlide(-1)">❮</button>
                
                <div class="carousel-track-3d">
                    
                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"J'avais mal au dos depuis 3 ans. En 3 semaines, la douleur a disparu et j'ai perdu 4kg. L'approche ostéo change tout."</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">S</div>
                            <div><h4>Sophie Laurent</h4><span>Mal de dos chronique</span></div>
                        </div>
                    </div>

                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"Cyril est d'un professionnalisme rare. Il ne vous lâche pas. Il a pris le temps d'écouter mon historique médical là où d'autres foncent tête baissée. Je me sens en sécurité."</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">P</div>
                            <div><h4>Pierre M.</h4><span>Réathlétisation</span></div>
                        </div>
                    </div>

                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"Record personnel battu de 15 minutes sur mon marathon et aucune tendinite ! La gestion de la charge d'entraînement par l'IA est bluffante."</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">T</div>
                            <div><h4>Thomas V.</h4><span>Marathonien</span></div>
                        </div>
                    </div>

                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"Après ma grossesse, je ne reconnaissais plus mon corps. Cyril a été d'une écoute incroyable, sans jugement. On a reconstruit ma sangle abdominale en douceur. Merci !"</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">J</div>
                            <div><h4>Julie Bertin</h4><span>Post-Grossesse</span></div>
                        </div>
                    </div>

                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"Ce n'est pas juste du sport, c'est une éducation. L'IA rend le suivi hyper réactif, je me sens encadré 24/7. C'est la première fois que je tiens sur la durée."</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">M</div>
                            <div><h4>Marc Dubois</h4><span>Perte de poids</span></div>
                        </div>
                    </div>

                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"J'ai vu 3 kinés pour mon épaule sans succès. Le bilan postural de Cyril a tout de suite pointé le déséquilibre. En 1 mois, je rejoue au tennis."</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">A</div>
                            <div><h4>Alain R.</h4><span>Tennis & Douleur</span></div>
                        </div>
                    </div>

                    <div class="review-card-3d">
                        <div class="quote-icon">❝</div>
                        <p class="review-text">"Je dormais 5h par nuit et j'étais épuisée. Le programme a rééquilibré mon système nerveux. Je dors mieux, je suis plus performante au travail."</p>
                        <div class="stars">⭐⭐⭐⭐⭐</div>
                        <div class="author">
                            <div class="avatar">E</div>
                            <div><h4>Élodie G.</h4><span>Gestion du Stress</span></div>
                        </div>
                    </div>

                </div>
                <button class="carousel-btn next-btn" onclick="moveSlide(1)">❯</button>
            </div>
            
            <div style="text-align: center; margin-top: 20px; color: var(--primary-blue); font-weight: bold;">
                <span id="current-review-index">1</span> / 7
            </div>

        </div>
    </section>

<section class="container" id="offres">
    <div data-aos="fade-up">
        <h2 class="section-title">Choisissez votre Transformation</h2>
        <p class="section-subtitle">Des formules adaptées à tous les budgets et objectifs.</p>
    </div>
    <div class="grid-pricing">
    
    <div class="pricing-card" data-aos="flip-left" data-aos-delay="100">
        <h3>Starter</h3>
        <p>Pour découvrir la méthode</p>
        
        <span class="old-price">290€</span>
        <div class="price">200€</div>
        <p style="color: #27ae60; font-weight: 700; font-size: 0.85rem; margin-top: -10px; margin-bottom: 1.5rem;">
            ✅ Tarif Parrainage applicable
        </p>

        <ul class="features-list">
            <li>Programme 4 semaines</li>
            <li>Génération IA + Validation</li>
            <li>Formulaires hebdomadaires</li>
            <li>Accès vidéos explicatives</li>
        </ul>
        <button class="submit-btn" onclick="openBooking('Starter')">Choisir Starter</button>
    </div>

    <div class="pricing-card featured" data-aos="flip-left" data-aos-delay="200">
        <div class="badge-pop">BEST-SELLER</div>
        <h3>Performance</h3>
        <p>Résultats durables garantis</p>
        
        <span class="old-price">490€</span>
        <div class="price">350€</div>
        <p style="color: #27ae60; font-weight: 700; font-size: 0.85rem; margin-top: -10px; margin-bottom: 1.5rem;">
            ✅ Tarif Parrainage applicable
        </p>

        <ul class="features-list">
            <li><strong>Tout du pack Starter +</strong></li>
            <li>Programme 8 semaines</li>
            <li>3 entretiens visio individuels</li>
            <li>Accès WhatsApp direct 7j/7</li>
            <li>Groupe privé exclusif</li>
            <li>🧠 Coaching "Atomic Habits"</li>
            <li style="color: var(--primary-orange);"><strong>🎁 Pack 3 E-books Offerts (Sommeil, Habitudes, Alimentation)</strong></li>
        </ul>
        <button class="submit-btn" onclick="openBooking('Performance')">Choisir Performance</button>
    </div>

    <div class="pricing-card" data-aos="flip-left" data-aos-delay="300">
        <h3>Transformation</h3>
        <p>Le suivi ultime Corps & Nutrition</p>
        
        <span class="old-price">650€</span>
        <div class="price">450€</div>
        <p style="color: #27ae60; font-weight: 700; font-size: 0.85rem; margin-top: -10px; margin-bottom: 1.5rem;">
            ✅ Tarif Parrainage applicable
        </p>

        <ul class="features-list">
            <li><strong>Tout du pack Performance +</strong></li>
            <li>Programme 12 semaines</li>
            <li>Plan Nutritionnel IA sur-mesure</li>
            <li>6 entretiens visio individuels</li>
            <li>Analyse biomécanique vidéo</li>
            <li>🧠 Coaching "Atomic Habits"</li>
            <li style="color: var(--primary-orange);"><strong>📚 Bibliothèque Complète E-books & Guides Bien-être</strong></li>
        </ul>
        <button class="submit-btn" onclick="openBooking('Transformation')">Choisir Transformation</button>
    </div>
</div>
    
</section>


    <section class="container" id="bilan-gratuit" style="margin-bottom: 4rem;">
        <div data-aos="fade-up">
            <h2 class="section-title">Démarrez Votre Bilan Gratuit (5 min)</h2>
            <p class="section-subtitle">Recevez instantanément votre analyse stratégique complète par email.</p>
        </div>
        
        <div class="bilan-wrapper">
            
            <div class="bilan-visual" data-aos="fade-right">
                <div class="phone-mockup">
                    <div class="screen-content">
                        <div class="screen-header"><div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div></div>
                        <div class="email-app-header"><span>Boîte de réception</span><strong>IA Coach</strong></div>
                        
                        <div class="fake-email-body">
                            <div class="alert-badge">✅ ANALYSE TERMINÉE</div>
                            <h3 class="fake-title">Votre Stratégie<br>Sur-Mesure</h3>
                            <div class="fake-stats"><span>⚖️ Poids/Taille</span><span>🩺 Posture</span></div>
                            <div class="fake-card warning"><strong>⚠️ Diagnostic Flash</strong><p>Tensions détectées liées au déséquilibre postural.</p></div>
                            <div class="fake-card success"><strong>🚀 Plan d'action</strong><ul><li>Phase 1 : Soulagement</li><li>Phase 2 : Structure</li><li>Phase 3 : Perfs</li></ul></div>
                            <div class="fake-btn">DÉBLOQUER MON PROGRAMME</div>
                            
                            <div class="fake-insta-block">
                                <p>💡 Votre sommeil est mauvais ? J'ai une astuce en story.</p>
                                <span class="fake-insta-link">📸 Voir l'astuce sur Instagram</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="visual-points">
                    <h3>🔎 Ce que vous allez recevoir :</h3>
                    <ul><li>📊 Analyse de votre ratio Taille/Poids</li><li>🩺 Identification de la cause mécanique</li><li>📝 Plan d'action en 3 phases</li><li>🎁 <strong>100% Gratuit & Immédiat</strong></li></ul>
                </div>
            </div>

            <div class="form-box" data-aos="fade-left" style="flex: 1.5; margin: 0; border-top: 5px solid #e67e22;">
                <form onsubmit="handleSubmit(event, 'bilan')">
                    <div class="form-group">
                        <label>Nom complet</label>
                        <input type="text" class="form-input" id="bilan-nom" required placeholder="Votre nom">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-input" id="bilan-email" required placeholder="votre@email.com">
                    </div>
                    
                    <div style="display: flex; gap: 1rem; flex-wrap:wrap;">
                        <div class="form-group" style="flex: 1; min-width: 80px;">
                            <label>Sexe</label>
                            <select class="form-input form-select" id="bilan-sexe" required>
                                <option value="" disabled selected>-- Choix --</option>
                                <option value="homme">Homme</option>
                                <option value="femme">Femme</option>
                            </select>
                        </div>
                        <div class="form-group" style="flex: 1; min-width: 80px;">
                            <label>Age</label>
                            <input type="number" class="form-input" id="bilan-age" min="18" max="99" required placeholder="35">
                        </div>
                        <div class="form-group" style="flex: 1; min-width: 80px;">
                            <label>Taille (cm)</label>
                            <input type="number" class="form-input" id="bilan-taille" min="140" max="220" required placeholder="175">
                        </div>
                        <div class="form-group" style="flex: 1; min-width: 80px;">
                            <label>Poids (kg)</label>
                            <input type="number" class="form-input" id="bilan-poids" min="40" max="200" required placeholder="75">
                        </div>
                    </div>
                
                    <div class="form-group">
                        <label>Quel est votre objectif principal ?</label>
                        <select class="form-input form-select" id="bilan-objectif" required>
                            <option value="" disabled selected>-- Sélectionnez votre objectif --</option>
                            <option value="perte">Perte de Poids / Minceur</option>
                            <option value="muscle">Gain Musculaire / Performance</option>
                            <option value="douleur">Réduction de Douleur / Posture</option>
                            <option value="energie">Retrouver de l'Énergie / Bien-être</option>
                        </select>
                    </div>
                
                    <div class="form-group">
                        <label>Fréquence d'entraînement actuelle ?</label>
                        <select class="form-input form-select" id="bilan-frequence" required>
                            <option value="" disabled selected>-- Sélectionnez la fréquence --</option>
                            <option value="sedentaire">Sédentaire (0-1 fois/semaine)</option>
                            <option value="moderee">Modérée (2-3 fois/semaine)</option>
                            <option value="reguliere">Régulière (4-5 fois/semaine)</option>
                            <option value="intense">Intense (6+ fois/semaine)</option>
                        </select>
                    </div>
                
                    <div class="form-group">
                        <label>Qualité de votre sommeil ?</label>
                        <select class="form-input form-select" id="bilan-sommeil" required>
                            <option value="" disabled selected>-- Sélectionnez la qualité --</option>
                            <option value="mauvais">Mauvaise (moins de 6h, réveils)</option>
                            <option value="moyen">Moyenne (6-7h, irrégulier)</option>
                            <option value="bon">Bonne (7h+, réparateur)</option>
                        </select>
                    </div>
                
                    <div class="form-group">
                        <label>Historique de blessures / douleurs</label>
                        <textarea class="form-input" id="bilan-description" required placeholder="Ex: Mal au genou droit en courant, ancienne entorse..." rows="3"></textarea>
                    </div>
                    
                    <div class="form-group" style="text-align: left; margin-top: 2rem;">
                        <input type="checkbox" id="newsletter" name="newsletter" checked style="width: auto; margin-right: 0.5rem; transform: scale(1.2);">
                        <label for="newsletter" style="display: inline; font-weight: 500; font-size: 0.95rem; color: var(--text-dark);">Oui, je m'abonne à la newsletter (conseils exclusifs offerts).</label>
                    </div>
                
                    <div class="referral-box" id="referral-container-bilan" style="margin-top: 1.5rem;">
                        <label class="referral-checkbox-label">
                            <input type="checkbox" id="referral-check-bilan" onchange="toggleReferral('bilan')">
                            <span>🎁 J'ai un Parrain / Code Promo</span>
                        </label>
                        
                        <div class="referral-success-msg" id="referral-msg-bilan">
                            <span>✅ Offre validée !</span>
                            <span style="color: var(--text-dark); font-weight: normal;">Votre dossier sera traité en priorité.</span>
                        </div>
                        
                        <input type="text" id="referral-name-bilan" class="form-input" style="margin-top: 10px; display: none; font-size: 0.9rem;" placeholder="Entrez le Nom ou Code VIP" 
                            oninput="checkReferralCode('bilan')">
                    </div>
                
                    <button type="submit" class="submit-btn" id="btn-bilan" style="display: flex; justify-content: center; align-items: center; gap: 10px;">
                        <span class="spinner"></span>
                        <span id="btn-text">Recevoir mon Aperçu Gratuit</span>
                    </button>
                </form>
            </div>
        </div>
    </section>


    <section class="faq-section-bg">
        <div class="container" style="max-width: 800px; padding: 0;"> <h2 class="section-title" data-aos="fade-up">Vos Questions Fréquentes</h2>

        <div class="faq-container" data-aos="fade-up">
            
            <div class="faq-item">
                <button class="faq-question">J'ai une douleur (dos, genou...), puis-je suivre le programme ? <span class="icon">+</span></button>
                <div class="faq-answer">
                    <p>Absolument. C'est même ma spécialité. En tant d'ostéopathe, je ne vous donnerai jamais un exercice dangereux. L'IA adapte les mouvements pour contourner votre douleur et renforcer la zone sans risque.</p>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">Je n'ai pas accès à une salle de sport, est-ce grave ? <span class="icon">+</span></button>
                <div class="faq-answer">
                    <p>Non ! Lors de la création du programme, vous précisez votre matériel (Poids du corps, élastiques, haltères...). L'IA recalcule tout en fonction de votre environnement.</p>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">En quoi l'IA est-elle différente d'un PDF classique ? <span class="icon">+</span></button>
                <div class="faq-answer">
                    <p>Un PDF est statique. Mon système IA est dynamique : si vous êtes fatigué une semaine, ou si vous progressez très vite, le programme se recalcule instantanément. C'est du sur-mesure vivant.</p>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">Comment se passe le suivi ? <span class="icon">+</span></button>
                <div class="faq-answer">
                    <p>Selon la formule, nous avons des points visio réguliers. Entre temps, vous avez accès à mon WhatsApp pro pour poser vos questions 7j/7. Vous n'êtes jamais seul.</p>
                </div>
            </div>

        </div>
    </section>

    <style>
        .faq-item { border-bottom: 1px solid #eee; margin-bottom: 10px; }
        .faq-question { width: 100%; background: none; border: none; text-align: left; padding: 20px 0; font-size: 1.1rem; font-weight: 600; color: var(--dark-blue); cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .faq-answer { max-height: 0; overflow: hidden; transition: 0.3s ease; color: #666; }
        .faq-answer p { padding-bottom: 20px; }
        .faq-item.active .faq-answer { max-height: 200px; }
        .faq-item.active .icon { transform: rotate(45deg); }
        .icon { font-size: 1.5rem; transition: 0.3s; }
    </style>

    <script>
        // A ajouter dans ton script existant tout en bas
        const faqs = document.querySelectorAll('.faq-question');
        faqs.forEach(faq => {
            faq.addEventListener('click', () => {
                faq.parentElement.classList.toggle('active');
            });
        });
    </script>

    <section id="ambassadeur-titan">
        <div class="titan-container" data-aos="zoom-in">
            
            <div id="titan-locked-state">
                <div class="vault-lock" id="lock-icon">🔒</div>
                <h2 class="titan-title">Accès Titan</h2>
                <p class="titan-subtitle">Code d'accréditation requis. Zone réservée à l'Élite.</p>
                
                <div class="vault-input-wrapper" id="titan-wrapper">
                    <input type="text" id="titan-code" class="titan-input" placeholder="ENTREZ LE CODE" onkeyup="checkEnter(event)">
                    <button class="titan-btn" onclick="unlockTitan()">ACCÉDER</button>
                </div>
                <p id="titan-error" style="color: #e74c3c; margin-top: 15px; opacity: 0; transition: 0.3s; font-weight: bold;">⚠️ ACCÈS REFUSÉ : CODE INVALIDE</p>
            </div>
    
            <div id="titan-reward-card">
                <div class="black-card">
                    <div class="vip-badge">💎 Statut : Ambassadeur</div>
                    
                    <h3 style="color: #fff; font-size: 1.8rem; margin-bottom: 0.5rem; text-transform: uppercase;">Pack Transformation <span style="color:#b38728">"Legacy"</span></h3>
                    <p style="color: #888; font-size: 0.9rem; margin-bottom: 1rem;">La suite logique de votre parcours, financée à 50%.</p>
                    
                    <hr style="border: 0; border-top: 1px solid #333; margin: 1.5rem 0;">
                    
                    <div style="display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 1rem;">
                        <span style="text-decoration: line-through; color: #666; font-size: 1.5rem;">450€</span>
                        <span class="offer-value" style="margin: 0; color: #b38728;">225€</span>
                    </div>
                    
                    <div class="offer-sub" style="font-size: 1rem; margin-bottom: 2rem; color: #fff;">Paiement unique • Accès complet 12 Semaines</div>
                    
                    <div style="text-align: left; margin: 0 auto 2rem; max-width: 450px; color: #ccc; font-size: 0.95rem; line-height: 1.8;">
                        <p style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">✅ <strong>12 Semaines</strong> de Suivi IA & Humain</p>
                        <p style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">🥗 <strong>Plan Nutritionnel</strong> Complet & Sur-Mesure</p>
                        <p style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">📹 <strong>6 Entretiens Visio</strong> (Coaching Mental & Technique)</p>
                        <p style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px;">🧠 Module Spécial <strong>"Atomic Habits"</strong> (Ancrage)</p>
                        <p style="color: #b38728; font-weight: bold;">🎁 Accès Illimité Bibliothèque E-books (Valeur 90€)</p>
                    </div>
            
                    <button class="titan-cta" onclick="openTitanModal()">
                        DÉBLOQUER MA PLACE (225€)
                    </button>

                    <p style="margin-top: 1rem; font-size: 0.75rem; color: #555;">Offre strictement personnelle et incessible. Valable uniquement via ce lien.</p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-links">
            <a href="#accueil">Accueil</a>
            <a href="#concept">Méthode</a>
            <a href="#offres">Tarifs</a>
            <a href="https://www.instagram.com/cyril_fitlife?igsh=MWVpZDJuMHlvM3QzcA%3D%3D&utm_source=qr">Instagram</a>
        </div>
        <div style="border-top: 1px solid rgba(255,255,255,0.1); margin-top: 2rem; padding-top: 2rem; font-size: 0.9rem; opacity: 0.8;">
            <p>&copy; 2025 Coaching IA Personnalisé. Tous droits réservés.</p>
            <p style="margin-top: 0.5rem;">
                <a href="#" style="color: white; text-decoration: underline;">Mentions Légales</a> | 
                <a href="#" style="color: white; text-decoration: underline;">CGV</a> | 
                <a href="#" style="color: white; text-decoration: underline;">Politique de Confidentialité</a>
            </p>
        </div>
    </footer>

    <div id="resultModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeResultModal()">×</button>
            
            <div style="font-size: 4rem; margin-bottom: 1rem;">📩</div>
            <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">Analyse Envoyée !</h3>
            
            <p style="color: var(--text-dark); margin-bottom: 1.5rem; font-size: 1.1rem;">
                Bravo <span id="result-name" style="font-weight:bold;"></span>, votre profil a été analysé.
            </p>
    
            <div style="background: #e8f5e9; padding: 1.5rem; border-radius: 10px; border: 1px solid #c8e6c9; text-align: left; margin-bottom: 2rem;">
                <p style="color: #2e7d32; font-weight: 600; margin-bottom: 0.5rem;">⚠️ Sécurité des données :</p>
                <p style="font-size: 0.95rem; line-height: 1.5;">
                    Pour garantir la confidentialité, votre rapport complet et le <strong>lien de réservation</strong> ont été envoyés uniquement sur votre adresse email.
                </p>
            </div>
            
            <button onclick="closeResultModal()" class="submit-btn" style="background:var(--primary-blue);">
                J'ai compris, je vais voir mes mails
            </button>
        </div>
    </div>


   <div id="bookingModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeBooking()">×</button>
            
            <h3 style="color: var(--primary-blue); margin-bottom: 0.5rem;">
                Offre <span id="modal-offer-name"></span>
            </h3>
            
            <div style="font-size: 1.5rem; color: var(--primary-orange); font-weight: bold; margin-bottom: 1rem;">
                Total à régler : <span id="modal-price-display">--€</span>
            </div>
    
            <p style="font-size: 0.9rem; color: #666; margin-bottom: 1.5rem;">Finalisez pour bloquer ce tarif.</p>
            
            <form onsubmit="handleSubmit(event, 'booking')">
                <div class="form-group"><label>Nom complet</label><input type="text" id="booking-nom" class="form-input" required placeholder="Prénom Nom"></div>
                <div class="form-group"><label>Email</label><input type="email" id="booking-email" class="form-input" required placeholder="email@exemple.com"></div>
    
                <div class="referral-box" id="referral-container">
                    <label class="referral-checkbox-label">
                        <input type="checkbox" id="referral-check" onchange="toggleReferral('modal')">
                        <span>🎁 J'ai un Parrain (Réduction Immédiate)</span>
                    </label>
                    
                    <div class="referral-success-msg" id="referral-msg">
                        <span>✅ Prix réduit appliqué !</span>
                        <span style="color: var(--text-dark); font-weight: normal;">Le tarif spécial parrainage est activé.</span>
                    </div>
                    
                <input type="text" id="referral-name" class="form-input" style="margin-top: 10px; display: none; font-size: 0.9rem;" placeholder="Entrez le Nom ou Code VIP" 
                    oninput="checkReferralCode('modal')">
                </div>
    
                <div class="form-group"><label>Date de début souhaitée</label><input type="date" class="form-input" required></div>
                <button type="submit" class="submit-btn">Valider la demande</button>
            </form>
        </div>
    </div>
    
    <div id="titanModal" class="modal" style="backdrop-filter: blur(15px); background: rgba(0,0,0,0.9);">
        <div class="modal-content titan-modal-content">
            <button class="close-modal titan-close" onclick="closeTitanModal()">×</button>
            
            <div class="titan-content-wrapper">
                
                <div id="titan-step-form">
                    <div style="font-size: 3.5rem; margin-bottom: 1rem; text-shadow: 0 0 20px rgba(179, 135, 40, 0.4);">🔒</div>
                    <h3 class="titan-title" style="font-size: 1.8rem; margin-bottom: 0.5rem; letter-spacing: 2px;">PROTOCOLE SÉCURISÉ</h3>
                    <p style="color: #888; margin-bottom: 2.5rem; font-size: 0.9rem;">
                        Identifiez-vous pour recevoir le lien d'accès crypté.
                    </p>
    
                    <form onsubmit="handleTitanSubmit(event)">
                        <div class="titan-form-group">
                            <label style="color: #b38728; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 3px; margin-bottom:5px;">Email de destination</label>
                            <input type="email" id="titan-email" class="titan-input-field" required placeholder="exemple@email.com">
                        </div>
    
                        <button type="submit" class="titan-cta" id="btn-titan-submit" style="width: 100%; max-width: 350px; border-radius: 5px; margin: 1rem auto 0;">
                            INITIER LE TRANSFERT
                        </button>
                    </form>
                    <p style="color: #444; font-size: 0.7rem; margin-top: 2rem; font-family: monospace;">ENCRYPTION: AES-256 // NODE: PARIS-01</p>
                </div>
    
                <div id="titan-step-loading" class="upload-sequence">
                    <p class="upload-text" id="upload-status-text">CONNEXION AU SERVEUR...</p>
                    <div class="progress-bar-wrapper">
                        <div class="progress-bar-fill" id="titan-progress"></div>
                    </div>
                    <div style="font-family: monospace; color: #555; font-size: 0.8rem; margin-top: 10px;">
                        Veuillez ne pas fermer la fenêtre.
                    </div>
                </div>
    
                <div id="titan-step-success" class="success-sequence">
                    <div class="check-circle">
                        <span class="check-icon">✓</span>
                    </div>
                    <h3 style="color: #fff; font-size: 1.5rem; margin-bottom: 1rem;">ACCÈS AUTORISÉ</h3>
                    <p style="color: #ccc; margin-bottom: 1.5rem; line-height: 1.6;">
                        Le lien d'activation unique a été envoyé à :<br>
                        <span id="titan-email-display" style="color: #b38728; font-weight: bold;"></span>
                    </p>
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; font-size: 0.8rem; color: #aaa;">
                        ⚠️ Vérifiez vos spams. Ce lien expire dans 24h.
                    </div>
                    <button onclick="closeTitanModal()" class="titan-cta" style="background: transparent; border: 1px solid #555; color: #fff; margin-top: 2rem; font-size: 0.9rem;">
                        FERMER LE TERMINAL
                    </button>
                </div>
            </div>
        </div>
    </div>


<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialisation des animations
        AOS.init({
            duration: 800,
            once: true,
            offset: 80
        });

        // Gestion Menu Mobile
        function toggleMenu() {
            const nav = document.getElementById('navLinks');
            nav.classList.toggle('active');
        }

        // Modales
        // --- CONFIGURATION PRIX ---
        const pricingData = {
            'Starter': { normal: '200€', promo: '60€' },
            'Performance': { normal: '350€', promo: '80€' },
            'Transformation': { normal: '450€', promo: '100€' }, // <--- AJOUTE LA VIRGULE ICI
        
            // L'OFFRE AMBASSADEUR
            'Titan Legacy': { normal: '225€', promo: '225€' } 
        };

        let currentOffer = ''; // Mémorise l'offre choisie

        // Modales
        const bookingModal = document.getElementById('bookingModal');
        const resultModal = document.getElementById('resultModal');

        function openBooking(offerName) {
            currentOffer = offerName; // On sauvegarde quelle offre a été cliquée
            document.getElementById('modal-offer-name').innerText = offerName;
            
            // On initialise le prix normal
            const priceDisplay = document.getElementById('modal-price-display');
            if(priceDisplay) {
                priceDisplay.innerText = pricingData[offerName].normal;
                priceDisplay.style.color = '#e67e22'; // Orange par défaut
            }

            // On décoche la case par défaut à l'ouverture
            const check = document.getElementById('referral-check');
            if(check) {
                check.checked = false;
                toggleReferral('modal'); // On reset l'affichage visuel
            }

            bookingModal.style.display = 'flex';
        }

        function closeBooking() { bookingModal.style.display = 'none'; }
        function closeResultModal() { resultModal.style.display = 'none'; }

        window.onclick = function(event) {
            if (event.target == bookingModal) closeBooking();
            if (event.target == resultModal) closeResultModal();
        }

        
        async function handleSubmit(e, type) {
            e.preventDefault();
            
            // --- LOGIQUE FORMULAIRE BILAN (Haut de page) ---
            if (type === 'bilan') {
                const btn = document.getElementById('btn-bilan');
                const btnText = document.getElementById('btn-text');
                const spinner = btn.querySelector('.spinner');
    
                // Animation
                btnText.innerText = "IA en cours de réflexion...";
                spinner.style.display = "inline-block";
                btn.style.background = "#e67e22";
                btn.disabled = true;
        
                // --- SÉCURISATION DU PARRAIN ---
                const inputParrain = document.getElementById('referral-name-bilan');
                const containerParrain = document.getElementById('referral-container-bilan');
                let valParrain = "";
        
                // On envoie le code SEULEMENT si le cadre est vert (validé)
                if (containerParrain && containerParrain.classList.contains('validated')) {
                    valParrain = inputParrain.value;
                }
        
                const formData = {
                    nom: document.getElementById('bilan-nom').value,
                    email: document.getElementById('bilan-email').value,
                    sexe: document.getElementById('bilan-sexe').value,
                    age: document.getElementById('bilan-age').value,
                    taille: document.getElementById('bilan-taille').value,
                    poids: document.getElementById('bilan-poids').value,
                    objectif: document.getElementById('bilan-objectif').value,
                    douleur: document.getElementById('bilan-description').value,
                    description: document.getElementById('bilan-description').value,
                    sommeil: document.getElementById('bilan-sommeil').value,
                    parrain: valParrain 
                };
        
                try {
                    const response = await fetch('/.netlify/functions/analyze', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData)
                    });
        
                    if (response.ok) {
                        btnText.innerText = "Analyse Envoyée !";
                        spinner.style.display = "none";
                        btn.style.background = "#27ae60";
                        document.getElementById('result-name').innerText = formData.nom;
                        document.getElementById('resultModal').style.display = 'flex';
                    } else {
                        throw new Error("Erreur serveur");
                    }
                } catch (error) {
                    console.error(error);
                    alert("Erreur de connexion.");
                    btnText.innerText = "Réessayer";
                    spinner.style.display = "none";
                    btn.style.background = "";
                    btn.disabled = false;
                }
            } 
            
            // --- NOUVEAU BLOC : LOGIQUE RÉSERVATION (MODALE) ---
            else if (type === 'booking') {
                 
                 // 1. On récupère les infos saisies dans la modale
                 // Assure-toi d'avoir bien mis les ID 'booking-nom' et 'booking-email' dans ton HTML
                 const nom = document.getElementById('booking-nom').value;
                 const email = document.getElementById('booking-email').value;
    
                 // 2. On construit le lien Zeeg avec les infos pré-remplies
                 const zeegUrl = "https://zeeg.me/cyril41mangeolle/bilan-strategique-ou-bilan-offert" + 
                                 "?name=" + encodeURIComponent(nom) + 
                                 "&email=" + encodeURIComponent(email);
    
                 // 3. On ferme la modale du site
                 closeBooking();
    
                 // 4. On ouvre Zeeg dans un nouvel onglet
                 window.open(zeegUrl, '_blank');
            }
        }

        // Smooth Scroll pour les ancres
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if(target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

    // --- LOGIQUE DU CAROUSEL 3D ---
    const slides = document.querySelectorAll('.review-card-3d');
    const indexDisplay = document.getElementById('current-review-index');
    let currentIndex = 0;

    function updateCarousel() {
        // Reset des classes
        slides.forEach(slide => {
            slide.classList.remove('active', 'prev', 'next');
        });

        // Gestion de l'index circulaire
        // Si on dépasse la fin, on revient au début, etc.
        const total = slides.length;
        
        // Définition des index Prev et Next
        let prevIndex = (currentIndex - 1 + total) % total;
        let nextIndex = (currentIndex + 1) % total;

        // Application des classes
        slides[currentIndex].classList.add('active');
        slides[prevIndex].classList.add('prev');
        slides[nextIndex].classList.add('next');

        // Mise à jour du compteur visuel
        if(indexDisplay) indexDisplay.innerText = currentIndex + 1;
    }

    function moveSlide(step) {
        const total = slides.length;
        currentIndex = (currentIndex + step + total) % total; // Formule magique pour boucler
        updateCarousel();
    }

    // Initialisation
    updateCarousel();

    // Auto-play (optionnel, toutes les 5s)
    setInterval(() => {
        moveSlide(1);
    }, 5000);

    // Rendre les cartes latérales cliquables
    slides.forEach((slide, index) => {
        slide.addEventListener('click', () => {
            if (slide.classList.contains('prev')) moveSlide(-1);
            if (slide.classList.contains('next')) moveSlide(1);
        });
    });
        
          /* --- 1. LISTE DE SÉCURITÉ --- */
    // Ajoute ici tes codes valides en MAJUSCULES
    const validCodes = ['KENZO', 'OPTI-PRO2584', 'THOMAS', 'JULIE', 'MARC', 'ALAIN', 'VIP2025', 'COACH'];

    /* --- 2. FONCTION GESTION CASE À COCHER --- */
    function toggleReferral(origin) {
        const suffix = origin === 'bilan' ? '-bilan' : '';
        const checkbox = document.getElementById('referral-check' + suffix);
        const inputName = document.getElementById('referral-name' + suffix);
        const container = document.getElementById('referral-container' + suffix);
        const msg = document.getElementById('referral-msg' + suffix);
    
        if (!checkbox) return; 
    
        if (checkbox.checked) {
            // ON AFFICHE LE CHAMP, MAIS C'EST TOUT (Pas de validation, pas de changement prix)
            inputName.style.display = 'block';
            if(origin !== 'modal') inputName.focus();
        } else {
            // ON DÉCOCHE : ON ANNULE TOUT
            inputName.style.display = 'none';
            inputName.value = ""; 
            container.classList.remove('validated');
            msg.style.display = 'none';
            
            // Si c'est la modale, on remet le prix normal immédiatement
            if (origin === 'modal') {
                const priceDisplay = document.getElementById('modal-price-display');
                if(priceDisplay && currentOffer && pricingData[currentOffer]) {
                    priceDisplay.innerText = pricingData[currentOffer].normal;
                    priceDisplay.style.color = '#e67e22';
                }
            }
        }
    }

    /* --- 3. FONCTION VÉRIFICATION DU CODE (Temps réel) --- */
    function checkReferralCode(origin) {
        const suffix = origin === 'bilan' ? '-bilan' : '';
        const inputName = document.getElementById('referral-name' + suffix);
        const container = document.getElementById('referral-container' + suffix);
        const msg = document.getElementById('referral-msg' + suffix);
        
        // On récupère le texte en MAJUSCULES sans espaces
        const userEntry = inputName.value.trim().toUpperCase();

        // VÉRIFICATION : Le code est-il dans la liste ?
        const isValid = validCodes.includes(userEntry);

        if (isValid) {
            // ✅ CODE VALIDE
            container.classList.add('validated');
            msg.innerHTML = `<span>✅ Code <strong>${userEntry}</strong> validé !</span>`;
            msg.style.display = 'block';
            msg.style.color = '#27ae60';

            // CHANGEMENT PRIX (Seulement Modale)
            if (origin === 'modal' && currentOffer && pricingData[currentOffer]) {
                const priceDisplay = document.getElementById('modal-price-display');
                priceDisplay.innerText = pricingData[currentOffer].promo; // Prix Promo
                priceDisplay.style.color = '#27ae60'; // Vert
            }

        } else {
            // ❌ CODE INVALIDE
            container.classList.remove('validated');
            msg.style.display = 'none';

            // RETOUR PRIX NORMAL (Seulement Modale)
            if (origin === 'modal' && currentOffer && pricingData[currentOffer]) {
                const priceDisplay = document.getElementById('modal-price-display');
                priceDisplay.innerText = pricingData[currentOffer].normal; // Prix Normal
                priceDisplay.style.color = '#e67e22'; // Orange
            }
        }
    }
    
        // --- GESTION INTELLIGENTE DU BOUTON FLOTTANT ---
        window.addEventListener('scroll', function() {
            const ctaBtn = document.getElementById('mobile-cta');
            const bilanSection = document.getElementById('bilan-gratuit');
            
            // On récupère la position du haut de la section Bilan
            const bilanTop = bilanSection.offsetTop;
            const scrollPosition = window.scrollY + window.innerHeight; // Position bas de l'écran
    
            // LOGIQUE :
            // 1. On doit avoir scrollé plus de 600px (passé le Hero)
            // 2. On ne doit PAS avoir atteint le début du formulaire (bilanTop)
            if (window.scrollY > 600 && scrollPosition < (bilanTop + 200)) {
                ctaBtn.classList.add('visible');
            } else {
                ctaBtn.classList.remove('visible');
            }
        });
    
        // Barre de progression (Inchangé, tu peux le laisser tel quel)
        window.addEventListener('scroll', () => {
            const scroll = document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (scroll / height) * 100;
            document.querySelector('.scroll-progress').style.width = scrolled + '%';
        });


        window.addEventListener('scroll', () => {
        const scroll = document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (scroll / height) * 100;
        document.querySelector('.scroll-progress').style.width = scrolled + '%';
    });

        
        /* --- 2. LOGIQUE DU COFFRE FORT (À mettre à la fin du script) --- */
        const SECRET_CODES = ['TITAN2025', 'LEGACY', 'OPTI-PRO2584', 'CYRIL-VIP'];
        
        function checkEnter(event) {
            if (event.key === "Enter") unlockTitan();
        }
        
        function unlockTitan() {
            const input = document.getElementById('titan-code');
            const wrapper = document.getElementById('titan-wrapper');
            const errorMsg = document.getElementById('titan-error');
            const lockIcon = document.getElementById('lock-icon');
            const lockedState = document.getElementById('titan-locked-state');
            const rewardCard = document.getElementById('titan-reward-card');
            
            const code = input.value.trim().toUpperCase();
        
            if (SECRET_CODES.includes(code)) {
                // --- SÉQUENCE DE SUCCÈS (WOW EFFECT) ---
                
                // 1. Visuel input validé
                wrapper.style.borderColor = "#27ae60";
                wrapper.style.boxShadow = "0 0 30px #27ae60";
                errorMsg.style.opacity = '0';
                
                // 2. Le cadenas s'ouvre
                lockIcon.innerText = "🔓";
                lockIcon.style.transform = "scale(1.5) rotate(-10deg)";
                lockIcon.style.color = "#fff";
                
                // 3. Onde de choc (Création d'un élément div temporaire)
                const shockwave = document.createElement('div');
                shockwave.classList.add('shockwave-element');
                document.getElementById('ambassadeur-titan').appendChild(shockwave);
                
                shockwave.animate([
                    { transform: 'translate(-50%, -50%) scale(1)', opacity: 1 },
                    { transform: 'translate(-50%, -50%) scale(100)', opacity: 0 }
                ], { duration: 800, easing: 'ease-out' });
        
                // 4. Transition vers la carte
                setTimeout(() => {
                    lockedState.style.display = 'none'; // On cache le formulaire
                    rewardCard.style.display = 'block'; // On affiche la carte VIP
                    
                    // Effet de confettis dorés "Premium" (pluie d'or)
                    createGoldRain();
                }, 600);
        
            } else {
                // --- ERREUR ---
                errorMsg.style.opacity = '1';
                wrapper.style.borderColor = "#e74c3c";
                wrapper.style.animation = "shake 0.3s ease";
                setTimeout(() => wrapper.style.animation = "", 300);
            }
        }
        
        // Fonction Pluie d'Or (Plus élégant que les confettis classiques)
        function createGoldRain() {
            const section = document.getElementById('ambassadeur-titan');
            for(let i=0; i<50; i++) {
                const drop = document.createElement('div');
                drop.style.position = 'absolute';
                drop.style.width = '2px';
                drop.style.height = Math.random() * 20 + 10 + 'px'; // Gouttes allongées
                drop.style.background = 'linear-gradient(to bottom, rgba(255,255,255,0), #b38728)';
                drop.style.left = Math.random() * 100 + '%';
                drop.style.top = -50 + 'px';
                drop.style.zIndex = '5';
                
                const duration = Math.random() * 1 + 0.5;
                
                drop.animate([
                    { transform: 'translateY(0)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px)`, opacity: 0 }
                ], {
                    duration: duration * 1000,
                    easing: 'linear',
                    iterations: Infinity
                });
                
                section.appendChild(drop);
            }
        }
        
        // CSS Shake Animation (à ajouter dynamiquement ou dans le CSS)
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
        @keyframes shake { 
            0%, 100% { transform: translateX(0); } 
            25% { transform: translateX(-10px); } 
            75% { transform: translateX(10px); } 
        }`;
        document.head.appendChild(styleSheet);
        
        /* --- LOGIQUE MODALE TITAN (ANIMATION CINÉMATIQUE) --- */
        const titanModal = document.getElementById('titanModal');
        
        function openTitanModal() {
            titanModal.style.display = 'flex';
            // Reset des étapes à l'ouverture
            document.getElementById('titan-step-form').style.display = 'block';
            document.getElementById('titan-step-loading').style.display = 'none';
            document.getElementById('titan-step-success').style.display = 'none';
            document.getElementById('titan-email').value = '';
        }
        
        function closeTitanModal() {
            titanModal.style.display = 'none';
        }
        
        // Fermer si clic dehors
        window.onclick = function(event) {
            if (event.target == titanModal) closeTitanModal();
            if (event.target == bookingModal) closeBooking();
            if (event.target == resultModal) closeResultModal();
        }
        
        function handleTitanSubmit(e) {
            e.preventDefault();
            
            const emailValue = document.getElementById('titan-email').value;
            const formStep = document.getElementById('titan-step-form');
            const loadingStep = document.getElementById('titan-step-loading');
            const successStep = document.getElementById('titan-step-success');
            const progressBar = document.getElementById('titan-progress');
            const statusText = document.getElementById('upload-status-text');
        
            // 1. On cache le formulaire et on montre le chargement
            formStep.style.display = 'none';
            loadingStep.style.display = 'block';
            
            // 2. Séquence d'animation de la barre (2 secondes de faux chargement)
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    // Fin du chargement -> Affichage Succès
                    finishTitanSequence(emailValue);
                } else {
                    width += Math.random() * 10; // Avance aléatoire pour faire réaliste
                    if(width > 100) width = 100;
                    progressBar.style.width = width + '%';
                    
                    // Changement de texte dynamique
                    if(width > 30 && width < 60) statusText.innerText = "VÉRIFICATION DU STATUT...";
                    if(width > 60 && width < 90) statusText.innerText = "GÉNÉRATION DU LIEN...";
                    if(width >= 90) statusText.innerText = "FINALISATION...";
                }
            }, 150); // Vitesse de la barre
        }
        
        function finishTitanSequence(email) {
            const loadingStep = document.getElementById('titan-step-loading');
            const successStep = document.getElementById('titan-step-success');
            
            // Petite pause pour le réalisme à 100%
            setTimeout(() => {
                loadingStep.style.display = 'none';
                successStep.style.display = 'block';
                document.getElementById('titan-email-display').innerText = email;
                
                // C'est ICI que le mail part réellement (Backend)
                console.log("Envoi lien Titan à : " + email);
                
            }, 500);
        }
    </script>
</body>
</html>
